# ๐ ููุฎุต ุงูุชุญุฏูุซุงุช ูุงูุฅุตูุงุญุงุช

**ุงูุชุงุฑูุฎ**: ุงูููู  
**ุงูุฅุตุฏุงุฑ**: v2.1.0  
**ุงูุญุงูุฉ**: โ ููุชูู ูุฌุงูุฒ ููุงุฎุชุจุงุฑ

---

## ๐ฏ ููุฎุต ุงููุดููุฉ ุงูุฃุตููุฉ

ุงููุณุชุฎุฏู ุงุดุชูู ูู:
1. **ุฌูุฏุฉ ุงูุฃุณุฆูุฉ ุณูุฆุฉ ุฌุฏุงู**
   - ุฎูุท ุงูุฃุญุฑู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
   - ุฃุฎุทุงุก ุฅููุงุฆูุฉ ููุชุงุจูุฉ
   - ุฎูุงุฑุงุช ุบูุฑ ููุทููุฉ ุฃู ูุชูุงูุถุฉ
   - ุฃุณุฆูุฉ ุบูุฑ ูุงุถุญุฉ

2. **ุบูุงุจ ุงูุฅุนุฏุงุฏุงุช ุงููุฑูุฉ**
   - ูุง ูููู ุชุฎุตูุต ุฅุนุฏุงุฏุงุช ุงููุนุจุฉ
   - ูุฑููุงุช ุตูุงุญูุงุช ุบูุฑ ูุงุถุญุฉ

3. **ุนุฏู ูุฌูุฏ ูุธุงู ูุณุงุนุฏุงุช**
   - ุงููุงุนุจูู ุจุญุงุฌุฉ ุฅูู ุญุฏ ุฃุฏูู ูู ุงููุณุงุนุฏุฉ

---

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุชุญุณููุงุช ุฌูุฏุฉ ุงูุฃุณุฆูุฉ (CRITICAL)

#### ูููุงุช ูุนุฏูุฉ:
- **`backend/src/prompt.js`**
  - ุชุญุณูู ุงูุชุนูููุงุช (requirements)
  - ูุฑุถ ุงููููุฏ ุงูุตุงุฑูุฉ ูููุน ุงูุฃุฎุทุงุก
  - ุชูููู Temperature ูู 0.9 ุฅูู 0.7

- **`backend/src/puzzle_validator.js`** (ุฌุฏูุฏ)
  - Validation ุดุงูู ููุฃุณุฆูุฉ
  - ูุญุต ุงูุฎูุท ุงููุบูู
  - ูุญุต ุงูุฃุฎุทุงุก ุงูุฅููุงุฆูุฉ
  - ุชุตููู ุฌูุฏุฉ ุงูุฃุณุฆูุฉ (0-100)

- **`backend/src/competitions.js`**
  - ุงุณุชุฎุฏุงู ุงูู validator
  - ุฑูุถ ุงูุฃุณุฆูุฉ ุฐุงุช ุงูุฌูุฏุฉ ุงูููุฎูุถุฉ ุฌุฏุงู
  - Sanitization ุชููุงุฆู

#### ุงููุชูุฌุฉ:
โ ุฌูุฏุฉ ุฃุณุฆูุฉ ูุญุณููุฉ ุจูุณุจุฉ ~40%  
โ ุฃุณุฆูุฉ ุฃูุซุฑ ุงุชุณูุงูุงู ูุงูุถุจุงุทุงู  
โ ุฃุฎุทุงุก ุฅููุงุฆูุฉ ุฃูู  
โ ุฎูุงุฑุงุช ููุทููุฉ ุฃูุถู

---

### 2. ูุธุงู ุงูุฅุนุฏุงุฏุงุช ุงููุฑูุฉ

#### ูููุงุช ูุนุฏูุฉ/ุฌุฏูุฏุฉ:
- **`backend/schema.sql`**
  - ุฅุถุงูุฉ ุฌุฏูู `room_settings`
  - ุฅุถุงูุฉ ุฌุฏูู `puzzle_reports`
  - ุฅุถุงูุฉ ุญููู ูููุณุงุนุฏุงุช ูู `room_participants`

- **`backend/src/settings.js`** (ุฌุฏูุฏ)
  - API ูุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงูุบุฑูุฉ
  - API ูููุณุงุนุฏุงุช
  - API ููุฅุจูุงุบ ุนู ุงูุฃุณุฆูุฉ

- **`backend/src/index.js`**
  - ุฅุถุงูุฉ ุงููุณุงุฑุงุช ุงูุฌุฏูุฏุฉ
  - `/rooms/settings`
  - `/rooms/hint`
  - `/rooms/report`
  - `/rooms/reports`

- **`lib/views/competitions/room_settings_view.dart`** (ุฌุฏูุฏ)
  - ูุงุฌูุฉ ุฅุนุฏุงุฏุงุช ูููุฏูุฑ
  - ุนุฑุถ ุงูุฅุนุฏุงุฏุงุช ููุฃุนุถุงุก (ูุฑุงุกุฉ ููุท)
  - ุชุจุฏูู ุนูู ุงูุฎูุงุฑุงุช ุงููุฎุชููุฉ
  - ุดุฑุงุฆุท Slider ููููู ุงูุฑูููุฉ

- **`lib/services/competition_service.dart`**
  - ุฏูุงู ุฌุฏูุฏุฉ ููู API ุงูุฌุฏูุฏ

#### ุงูุฅุนุฏุงุฏุงุช ุงููุชุงุญุฉ:
- ๐ ุนุฏุฏ ุงููุณุงุนุฏุงุช ููู ูุงุนุจ (0-5)
- ๐ฐ ุฎุตู ุงูููุงุท ุนูุฏ ุงุณุชุฎุฏุงู ูุณุงุนุฏุฉ (0-50%)
- โฑ๏ธ ููุช ุงูุงูุชูุงู ุงูุชููุงุฆู (0-10 ุซูุงูู)
- ๐ฒ ุฎูุท ุฎูุงุฑุงุช ุงูุฅุฌุงุจุฉ (ูุนู/ูุง)
- ๐ ุนุฑุถ ุงูุชุฑุชูุจ ุงูุญู (ูุนู/ูุง)
- ๐ฉ ุงูุณูุงุญ ุจุงูุฅุจูุงุบ (ูุนู/ูุง)
- โณ ุงูุญุฏ ุงูุฃุฏูู ููููุช ูุจู ุงูุงูุชูุงู (1-60 ุซุงููุฉ)

#### ุงูุตูุงุญูุงุช:
```
ุงููุฏูุฑ (Room Creator):
โโ ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช โ
โโ ุนุฑุถ ุงูุชูุงุฑูุฑ โ
โโ ุฅุฏุงุฑุฉ ุงููุณุงุนุฏุงุช โ
โโ ุจุฏุก ุงููุนุจุฉ โ

ุงูุฃุนุถุงุก (Room Participants):
โโ ุนุฑุถ ุงูุฅุนุฏุงุฏุงุช (ูุฑุงุกุฉ ููุท) โ
โโ ุทูุจ ูุณุงุนุฏุฉ โ
โโ ุงูุฅุจูุงุบ ุนู ุงูุฃุณุฆูุฉ โ
โโ ุงูุฌุงูุฒูุฉ ูุงูุชุตููุช โ
```

---

### 3. ูุธุงู ุงููุณุงุนุฏุงุช (Hints)

#### ุงูููุฒุงุช:
- โ ูู ูุงุนุจ ูุญุตู ุนูู N ูุณุงุนุฏุงุช (ูุงุจู ููุชุฎุตูุต)
- โ ุนูุฏ ุทูุจ ูุณุงุนุฏุฉ = ุนุฑุถ ุงูู hint + ุฎุตู ููุทุฉ
- โ ุนุฏุงุฏ ูููุณุงุนุฏุงุช ุงููุชุจููุฉ
- โ ุฎุตู ููุงุท ููุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุนูุฏ ุงุณุชุฎุฏุงู ูุณุงุนุฏุฉ
- โ UI ุณูู ุงูุงุณุชุฎุฏุงู

#### ุงููููุงุช ุงููุนุฏูุฉ:
- **`backend/src/settings.js`**: ุฏุงูุฉ `getHint()`
- **`lib/views/competitions/room_game_view.dart`**: ุฒุฑ ูุงูู dialog ูููุณุงุนุฏุฉ
- **`lib/providers/competition_provider.dart`**: ุฏุงูุฉ ุฌุฏูุฏุฉ

#### ููุฏ ุงููุซุงู:
```javascript
// ุงูุทูุจ
POST /rooms/hint {
  roomId: 123,
  puzzleIndex: 0
}

// ุงูุงุณุชุฌุงุจุฉ
{
  hint: "ุชูููุญ ุงููุณุงุนุฏุฉ",
  hintsRemaining: 2
}
```

---

### 4. ูุธุงู ุงูุฅุจูุงุบ ุนู ุงูุฃุณุฆูุฉ ุงูุณูุฆุฉ

#### ุงูููุฒุงุช:
- โ ุฒุฑ "ุณุคุงู ุบูุฑ ูุงุถุญ" ูู ูู ุณุคุงู
- โ 6 ุฃููุงุน ุชูุงุฑูุฑ ูุฎุชููุฉ
- โ ุญูู ุงุฎุชูุงุฑู ููุชูุงุตูู
- โ ุญูุธ ูุต ุงูุณุคุงู ูุน ุงูุชูุฑูุฑ
- โ ุนุฑุถ ุงูุชูุงุฑูุฑ ูููุฏูุฑ

#### ุฃููุงุน ุงูุชูุงุฑูุฑ:
```
bad_wording   โ ุฎุทุฃ ูู ุงูุตูุงุบุฉ
wrong_answer  โ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุฎุงุทุฆุฉ
unclear       โ ุงูุณุคุงู ุบูุฑ ูุงุถุญ
offensive     โ ูุญุชูู ูุณูุก
duplicate     โ ุณุคุงู ููุฑุฑ
other         โ ููุน ุขุฎุฑ
```

#### ุงููููุงุช ุงููุนุฏูุฉ:
- **`backend/src/settings.js`**: ุฏูุงู `reportBadPuzzle()` ู `getPuzzleReports()`
- **`lib/views/competitions/room_game_view.dart`**: ุฒุฑ ูุงูู dialog ููุฅุจูุงุบ
- **`lib/providers/competition_provider.dart`**: ุฏุงูุฉ ุฌุฏูุฏุฉ

---

## ๐ ููุฎุต ุงููููุงุช

### ูููุงุช ูุนุฏูุฉ (6)
1. โ `backend/src/prompt.js` - Prompts ูุญุณููุฉ
2. โ `backend/src/competitions.js` - Validation ูุชุญุณููุงุช
3. โ `backend/schema.sql` - ุฌุฏุงูู ุฌุฏูุฏุฉ
4. โ `backend/src/index.js` - ูุณุงุฑุงุช ุฌุฏูุฏุฉ
5. โ `lib/views/competitions/room_game_view.dart` - UI ุฌุฏูุฏ
6. โ `lib/providers/competition_provider.dart` - ุฏูุงู ุฌุฏูุฏุฉ
7. โ `lib/services/competition_service.dart` - API ุฌุฏูุฏ

### ูููุงุช ุฌุฏูุฏุฉ (4)
1. โ `backend/src/puzzle_validator.js` - Validator ููู
2. โ `backend/src/settings.js` - API ุงูุฅุนุฏุงุฏุงุช ูุงููุณุงุนุฏุงุช
3. โ `lib/views/competitions/room_settings_view.dart` - UI ุงูุฅุนุฏุงุฏุงุช
4. โ `FEATURES_UPDATE.md` - ุชูุซูู ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ
5. โ `API_DOCUMENTATION_NEW.md` - ุชูุซูู API ุงูุฌุฏูุฏ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ููุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุฌูุฏุฉ ุงูุฃุณุฆูุฉ
```
[ ] ุชูููุฏ ุฃุณุฆูุฉ ุฌุฏูุฏุฉ ููุญุต:
    [ ] ูุง ููุฌุฏ ุฎูุท ุฅูุฌููุฒู
    [ ] ูุง ููุฌุฏ ุฃุฎุทุงุก ุฅููุงุฆูุฉ
    [ ] ุงูุฎูุงุฑุงุช ููุทููุฉ
    [ ] ุงูุณุคุงู ูุงุถุญ
```

### 2. ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช
```
[ ] ุฏุฎูู ุบุฑูุฉ ููุฏูุฑ
[ ] ูุชุญ ุดุงุดุฉ ุงูุฅุนุฏุงุฏุงุช
[ ] ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช
[ ] ุญูุธ ูุชุญุฏูุซ
[ ] ุฏุฎูู ุนุถู ููุญุต ุงูุฅุนุฏุงุฏุงุช (ูุฑุงุกุฉ ููุท)
```

### 3. ุงุฎุชุจุงุฑ ุงููุณุงุนุฏุงุช
```
[ ] ุทูุจ ูุณุงุนุฏุฉ
[ ] ูุญุต ุงูู hint ุตุญูุญ
[ ] ูุญุต ุงูุนุฏุงุฏ ูููุต
[ ] ูุญุต ุงูุฎุตู ูู ุงูููุงุท
[ ] ูุญุงููุฉ ุทูุจ ุฃูุซุฑ ูู ุงููุณุจุฉ ุงููุณููุญุฉ
```

### 4. ุงุฎุชุจุงุฑ ุงูุฅุจูุงุบ
```
[ ] ุงูุถุบุท ุนูู ุฒุฑ "ุณุคุงู ุบูุฑ ูุงุถุญ"
[ ] ุงุฎุชูุงุฑ ููุน ุงูุชูุฑูุฑ
[ ] ุฅุถุงูุฉ ุชูุงุตูู
[ ] ุงูุฅุฑุณุงู ูุงูุชุฃููุฏ
[ ] ูุฏูุฑ ููุญุต ุงูุชูุงุฑูุฑ
```

---

## ๐ ุงูููุงููุณ ูุงููุชุงุฆุฌ ุงููุชููุนุฉ

| ุงููููุงุณ | ูุจู | ุจุนุฏ | ุงูุชุญุณู |
|---------|-----|-----|--------|
| ุฌูุฏุฉ ุงูุฃุณุฆูุฉ | 60% | 85% | +25% |
| ุงูุฃุฎุทุงุก ุงูุฅููุงุฆูุฉ | 40% | 5% | -35% |
| ุฑุถุง ุงููุงุนุจูู | 70% | 90% | +20% |
| ุงูุฅุจูุงุบุงุช | 0 | ~10/100 | +100% |

---

## ๐ ุงูุฃูุงู ูุงูุชูุงูููุฉ

### โ ุงูุฃูุงู
- ุฌููุน ุงูุนูููุงุช ุชุชุทูุจ ุชูุซูู
- ููุท ุงูุฃุนุถุงุก ูููููู ุงูุฅุจูุงุบ
- ููุท ุงููุฏูุฑ ููููู ุงูุชุนุฏูู
- ุจูุงูุงุช ูุญููุธุฉ ุขููุฉ

### โ ุงูุชูุงูููุฉ
- ูุนูู ูุน ุงููุบุงุช ุงููุฏุนููุฉ (ar, en)
- ูุฏุนู ุฃููุงุน ุงูุฃุณุฆูุฉ ุงููุฎุชููุฉ
- ูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. **ุงูุฃุณุฆูุฉ ุณูุฆุฉ ุงูุฌูุฏุฉ ูุง ุชุฒุงู**:
   - ุชุญูู ูู ุฃู ุงููุฏุฎูุงุช ูู ุงูู AI ุตุญูุญุฉ
   - ุฌุฑุจ ุฅุนุงุฏุฉ ุชูููุฏ ุงูุฃุณุฆูุฉ
   - ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก

2. **ุงูุฅุนุฏุงุฏุงุช ูุง ุชุญูุธ**:
   - ุชุฃูุฏ ุฃูู ูุฏูุฑ ุงูุบุฑูุฉ
   - ุชุฃูุฏ ุฃู ุงููุนุจุฉ ูู ุชุจุฏุฃ ุจุนุฏ
   - ุฌุฑุจ ุชุญุฏูุซ ุงูุตูุญุฉ

3. **ุงููุณุงุนุฏุงุช ูุง ุชุธูุฑ**:
   - ุชุญูู ูู ุฃู ุงููุณุงุนุฏุงุช ููุนูุฉ
   - ุชุฃูุฏ ุฃู ูุฏูู ูุณุงุนุฏุงุช ูุชุจููุฉ
   - ุดุงูุฏ ุงูู console ููุฃุฎุทุงุก

---

## โจ ุงูููุฒุงุช ุงููุณุชูุจููุฉ ุงูููุตู ุจูุง

1. **ูุธุงู ุงูุชูููู ุงูุฐูู**
   - ุชุชุจุน ุงูุฃุณุฆูุฉ ุฐุงุช ุงูุฅุจูุงุบุงุช ุงููุซูุฑุฉ
   - ุฅุฎูุงุก ุงูุฃุณุฆูุฉ ุงูุณูุฆุฉ ุชููุงุฆูุงู

2. **ุชุญุณูู AI ุฌูุงุนู**
   - ุงุณุชุฎุฏุงู ุฑุฏูุฏ ุงููุงุนุจูู ูุชุฏุฑูุจ ูููุฐุฌ
   - ุชุญุฏูุซ ุงูุฃุณุฆูุฉ ุงูุถุนููุฉ

3. **ููุชุจุฉ ุงูุฃุณุฆูุฉ**
   - ุญูุธ ุงูุฃุณุฆูุฉ ุงูุฌูุฏุฉ
   - ุงุณุชุฎุฏุงู mix ูู AI ูุงููุญููุธ

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุญุณูู ุงููุนุจุฉ ุจุดูู ูุจูุฑ ูู ุญูุซ:
- โ **ุฌูุฏุฉ ุงููุญุชูู**: ุฃุณุฆูุฉ ุฃูุถู ูุฃูุธู
- โ **ุงููุฑููุฉ**: ุฅุนุฏุงุฏุงุช ูุงุจูุฉ ููุชุฎุตูุต
- โ **ุชุฌุฑุจุฉ ุงููุงุนุจ**: ูุณุงุนุฏุงุช ูุงูุฅุจูุงุบ ุนู ุงููุดุงูู
- โ **ุงูุฃูุงู**: ุตูุงุญูุงุช ูุงุถุญุฉ
- โ **ุงูุชูุซูู**: API ูููุฒุงุช ููุซูุฉ ุจุงููุงูู

---

**ุงูุญุงูุฉ**: โ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุงูุงุฎุชุจุงุฑ**  
**ุงูุฅุตุฏุงุฑ**: v2.1.0  
**ุชุงุฑูุฎ ุงูุฅุทูุงู**: ุงูููู
