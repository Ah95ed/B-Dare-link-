# اختبار اللعب الفردي - دليل الاختبار

## خطوات الاختبار:

### 1. تشغيل التطبيق
```bash
flutter run
```

### 2. اختبار التدفق الكامل:

#### أ. من الصفحة الرئيسية:
1. اضغط على زر "المراحل" (Levels)
2. يجب أن تظهر قائمة المستويات

#### ب. اختيار مستوى:
1. اضغط على المستوى 1 (يجب أن يكون مفتوحاً)
2. يجب أن تظهر شاشة اختيار نمط اللعب

#### ج. اختيار نمط اللعب:
1. اختر "اختيارات" (Multiple Choice) - الأزرق
2. يجب أن تبدأ اللعبة

#### د. اللعب:
1. يجب أن يظهر:
   - كلمة البداية في الأعلى
   - كلمة النهاية في الأسفل
   - خطوات متعددة مع خيارات لكل خطوة
   - عداد الوقت في الأعلى
   - عدد الأرواح (3)
   - النقاط

2. اختبار اللعب:
   - اختر الإجابة الصحيحة للخطوة الأولى
   - يجب أن تنتقل للخطوة التالية
   - استمر حتى تكمل جميع الخطوات
   - يجب أن يظهر رسالة "أحسنت! اللغز مكتمل"

3. الانتقال للغز التالي:
   - اضغط "Next"
   - يجب أن يظهر لغز جديد

### 3. التحقق من الميزات:

#### أ. النظام:
- ✅ عداد الوقت يعمل
- ✅ الأرواح تتناقص عند الخطأ
- ✅ النقاط تزيد عند الإجابة الصحيحة
- ✅ الانتقال بين الألغاز يعمل
- ✅ إكمال المرحلة يفتح المرحلة التالية

#### ب. واجهة المستخدم:
- ✅ الكلمات تظهر بشكل صحيح
- ✅ الخيارات قابلة للاختيار
- ✅ الرسائل تظهر عند الإجابة الصحيحة/الخاطئة
- ✅ الحوارات تظهر عند إكمال اللغز/المرحلة

### 4. اختبار الأخطاء:

#### أ. إجابة خاطئة:
1. اختر إجابة خاطئة
2. يجب أن:
   - تظهر رسالة "حاول مرة أخرى!"
   - تقل الأرواح بمقدار 1
   - لا تنتقل للخطوة التالية

#### ب. انتهاء الوقت:
1. انتظر حتى ينتهي الوقت
2. يجب أن:
   - تقل الأرواح
   - تظهر رسالة "انتهى الوقت!"
   - ينتقل للغز التالي تلقائياً

#### ج. نفاد الأرواح:
1. أخطئ 3 مرات
2. يجب أن:
   - تظهر رسالة "Game Over"
   - تعرض خيارات "Exit" و "Retry"

### 5. اختبار أنماط اللعب الأخرى:

#### أ. نمط الشبكة (Grid):
1. من شاشة اختيار النمط، اختر "الشبكة"
2. يجب أن تظهر واجهة مختلفة

#### ب. نمط الترتيب (Drag & Drop):
1. اختر "ترتيب"
2. يجب أن تظهر واجهة السحب والإفلات

#### ج. نمط الكتابة (Fill Blank):
1. اختر "الكتابة"
2. يجب أن تظهر حقول إدخال نصية

## المشاكل المحتملة والحلول:

### 1. لا تظهر الألغاز:
- تحقق من اتصال الإنترنت
- تحقق من أن الـ backend يعمل
- راجع console للأخطاء

### 2. الألغاز لا تتحمل:
- تحقق من `generateLevel` في `api_service.dart`
- تحقق من الـ response من الـ backend

### 3. الواجهة لا تستجيب:
- تحقق من `GameProvider` و `notifyListeners()`
- تحقق من أن الـ widgets تستخدم `Consumer` أو `Provider.of`

### 4. الأخطاء في Console:
- راجع `debugPrint` statements
- تحقق من network requests في DevTools

## النتائج المتوقعة:

✅ يجب أن يعمل اللعب الفردي بشكل كامل:
- تحميل المستويات
- اختيار نمط اللعب
- حل الألغاز
- الانتقال بين الألغاز
- إكمال المراحل
- حفظ التقدم
