# ุชูุฑูุฑ ุงุฎุชุจุงุฑ ุชููุงุฆู - ุงููุนุจ ุงููุฑุฏู
**ุชุงุฑูุฎ ุงูุงุฎุชุจุงุฑ:** $(Get-Date -Format "yyyy-MM-dd HH:mm:ss")

---

## ๐ ููุฎุต ุงูุชูููุฐ

ุชู ูุญุต ุงูููุฏ ูุงูุงุชุตุงูุงุช ุจุดูู ุชููุงุฆู. ุงููุชุงุฆุฌ:

### โ ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ูุฌุญุช:

#### 1. **ูููู ุงููุดุฑูุน**
- โ `lib/main.dart` ููุฌูุฏ ููุญุชูู ุนูู `GameProvider`
- โ `lib/views/home_view.dart` ููุฌูุฏ ููุญุชูู ุนูู ุฒุฑ "ุงููุนุจ ุงููุฑุฏู"
- โ `lib/views/levels_view.dart` ููุฌูุฏ ููุนุฑุถ ุงููุณุชููุงุช
- โ `lib/views/game_mode_selection_view.dart` ููุฌูุฏ ููุนุฑุถ ุฃููุงุท ุงููุนุจ
- โ `lib/views/game_play_view.dart` ููุฌูุฏ ููุนุฑุถ ุงููุนุจุฉ
- โ `lib/controllers/game_provider.dart` ููุฌูุฏ ููุฏูุฑ ุญุงูุฉ ุงููุนุจุฉ
- โ `lib/services/api_service.dart` ููุฌูุฏ ููุชุตู ุจุงูู backend

#### 2. **ุงูุงุชุตุงูุงุช ูุงูุชููู**
- โ `HomeView` โ `LevelsView` ูุชุตู ุจุดูู ุตุญูุญ
- โ `LevelsView` โ `GameModeSelectionView` ูุชุตู ุจุดูู ุตุญูุญ
- โ `GameModeSelectionView` โ `GamePlayView` ูุชุตู ุจุดูู ุตุญูุญ
- โ `GameProvider` ูุณุฌู ูู `MultiProvider` ูู `main.dart`

#### 3. **ูุธุงุฆู GameProvider**
- โ `loadLevel()` ููุฌูุฏ ููุญูู ุงููุณุชูู ูู API
- โ `validateChain()` ููุฌูุฏ ููุญูู ูู ุงูุฅุฌุงุจุงุช
- โ `checkStep()` ููุฌูุฏ ููุญูู ูู ุฎุทูุฉ ูุงุญุฏุฉ
- โ `advancePuzzle()` ููุฌูุฏ ูููุชูู ููุบุฒ ุงูุชุงูู
- โ `_saveProgress()` ููุฌูุฏ ููุญูุธ ุงูุชูุฏู

#### 4. **API Service**
- โ `generateLevel()` ููุฌูุฏ ููุชุตู ุจุงูู backend
- โ URL ุงูู backend ุตุญูุญ: `wonder-link-backend.amhmeed31.workers.dev`
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ููุฌูุฏุฉ ูุน fallback

#### 5. **ูุงุฌูุงุช ุงููุนุจ**
- โ `MultipleChoiceGameWidget` ููุฌูุฏ ููุนุฑุถ ุงูุฎูุงุฑุงุช
- โ `GamePlayView` ููุฌูุฏ ููุนุฑุถ ุดุงุดุฉ ุงููุนุจ
- โ ูุนุงูุฌุฉ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ/ุงูุฎุงุทุฆุฉ ููุฌูุฏุฉ

---

## ๐ ุชุญููู ุงูุชุฏูู

### ุงูุชุฏูู ุงููุชููุน:

```
1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (HomeView)
   โโ> ุฒุฑ "ุงููุนุจ ุงููุฑุฏู" ููุฌูุฏ (ุงูุณุทุฑ 183)
       โโ> Navigator.push โ LevelsView

2. ูุงุฆูุฉ ุงููุฑุงุญู (LevelsView)
   โโ> GridView ูุนุฑุถ ุงููุณุชููุงุช
       โโ> ุนูุฏ ุงูุถุบุท ุนูู ูุณุชูู:
           โโ> provider.loadLevel() (ุงูุณุทุฑ 109)
           โโ> Navigator.push โ GameModeSelectionView

3. ุงุฎุชูุงุฑ ููุท ุงููุนุจ (GameModeSelectionView)
   โโ> 4 ุจุทุงูุงุช ูุฃููุงุท ุงููุนุจ
       โโ> ุนูุฏ ุงูุถุบุท ุนูู ููุท:
           โโ> provider.loadLevel() (ุงูุณุทุฑ 75)
           โโ> provider.setGameMode() (ุงูุณุทุฑ 76)
           โโ> Navigator.push โ GamePlayView

4. ุดุงุดุฉ ุงููุนุจ (GamePlayView)
   โโ> ูุนุฑุถ ุงููุงุฌูุฉ ุญุณุจ ุงูููุท
       โโ> MultipleChoiceGameWidget ููุงุฎุชูุงุฑ ุงููุชุนุฏุฏ
           โโ> _handleOptionSelected() (ุงูุณุทุฑ 116)
               โโ> provider.checkStep() ููุชุญูู
                   โโ> ุฅุฐุง ุตุญูุญ: provider.incrementScore()
                   โโ> ุฅุฐุง ุฎุทุฃ: provider.decrementLives()
```

---

## โ ุงูุชุญูู ูู ุงููุธุงุฆู

### 1. ุชุญููู ุงููุณุชูู
**ุงูููู:** `lib/controllers/game_provider.dart`
- โ `loadLevel()` ูุณุชุฏุนู `_apiService.generateLevel()`
- โ ูุนุงูุฌ ุญุงูุฉ `level.puzzles.isEmpty`
- โ ูุญููู ุงูุฃูุบุงุฒ ูู API
- โ ูุณุชุฎุฏู fallback ุฅุฐุง ูุดู API

### 2. ุงูุชุญูู ูู ุงูุฅุฌุงุจุงุช
**ุงูููู:** `lib/controllers/game_provider.dart`
- โ `checkStep()` ูุชุญูู ูู ุฎุทูุฉ ูุงุญุฏุฉ
- โ `validateChain()` ูุชุญูู ูู ุณูุณูุฉ ูุงููุฉ
- โ ููุงุฑู ูุน `steps[i].word`

### 3. ูุนุงูุฌุฉ ุงูุฅุฌุงุจุงุช
**ุงูููู:** `lib/views/modes/multiple_choice_game_widget.dart`
- โ `_handleOptionSelected()` ูุณุชุฏุนู `provider.checkStep()`
- โ ุฅุฐุง ุตุญูุญ: ูุฒูุฏ ุงูููุงุท ูููุชูู ููุฎุทูุฉ ุงูุชุงููุฉ
- โ ุฅุฐุง ุฎุทุฃ: ูููู ุงูุฃุฑูุงุญ ููุนุฑุถ ุฑุณุงูุฉ

### 4. ุงูุงูุชูุงู ุจูู ุงูุฃูุบุงุฒ
**ุงูููู:** `lib/controllers/game_provider.dart`
- โ `advancePuzzle()` ููุชูู ููุบุฒ ุงูุชุงูู
- โ ูุญูุธ ุงูุชูุฏู ุนูุฏ ุฅููุงู ุงููุฑุญูุฉ
- โ ููุชุญ ุงููุฑุญูุฉ ุงูุชุงููุฉ

---

## ๐ ุงูุงุชุตุงูุงุช

### 1. Provider Registration
**ุงูููู:** `lib/main.dart`
```dart
ChangeNotifierProxyProvider<AuthProvider, GameProvider>(
  create: (_) => GameProvider(),
  update: (_, auth, game) => game!..updateAuthProvider(auth),
)
```
โ **ุงูุญุงูุฉ:** ุตุญูุญ

### 2. Navigation Flow
- โ `HomeView` โ `LevelsView` (ุงูุณุทุฑ 170)
- โ `LevelsView` โ `GameModeSelectionView` (ุงูุณุทุฑ 114)
- โ `GameModeSelectionView` โ `GamePlayView` (ุงูุณุทุฑ 80)

### 3. API Connection
**ุงูููู:** `lib/services/api_service.dart`
- โ URL: `https://wonder-link-backend.amhmeed31.workers.dev/generate-level`
- โ Method: POST
- โ Headers: `Content-Type: application/json`
- โ Body: `{"language": "ar", "level": 1}`

---

## ๐ฎ ูุงุฌูุงุช ุงููุนุจ

### 1. Multiple Choice Widget
**ุงูููู:** `lib/views/modes/multiple_choice_game_widget.dart`
- โ ูุนุฑุถ ูุณุงุฑ ุงูุจุฏุงูุฉ โ ุงูุฎุทูุงุช โ ุงูููุงูุฉ
- โ ูุนุฑุถ ุฎูุงุฑุงุช ููู ุฎุทูุฉ ูู Grid 2x2
- โ `_handleOptionSelected()` ูุนุงูุฌ ุงูุงุฎุชูุงุฑ
- โ `_showPuzzleCompleteDialog()` ูุนุฑุถ ุญูุงุฑ ุงูุฅููุงู

### 2. Game Play View
**ุงูููู:** `lib/views/game_play_view.dart`
- โ ูุนุฑุถ AppBar ูุน ุงูุฃุฑูุงุญ ูุงูููุช ูุงูููุงุท
- โ ูุนุฑุถ ุงููุงุฌูุฉ ุญุณุจ ุงูููุท ุงููุฎุชุงุฑ
- โ ูุนุงูุฌ Game Over

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. ุชุญููู ุงูุฃูุบุงุฒ
- ุงูุฃูุบุงุฒ ุชูุญููู ูู API ุนูุฏ `loadLevel()`
- ุฅุฐุง ูุดู APIุ ูุณุชุฎุฏู `_getFallbackLevelSafe()`
- ูุฏ ูุณุชุบุฑู ุจุถุน ุซูุงูู ูู ุฃูู ุชุญููู

### 2. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก API ููุฌูุฏุฉ
- โ Fallback ููุฃูุบุงุฒ ุงูุงูุชุฑุงุถูุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ูููุณุชุฎุฏู

### 3. ุญูุธ ุงูุชูุฏู
- โ ูุญูุธ ูุญููุงู ูู `SharedPreferences`
- โ ูุฒุงูู ูุน ุงูุณุญุงุจุฉ ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู
- โ ููุชุญ ุงููุฑุญูุฉ ุงูุชุงููุฉ ุชููุงุฆูุงู

---

## ๐งช ุงุฎุชุจุงุฑุงุช ูุฏููุฉ ูุทููุจุฉ

ุจูุง ุฃู ุงูุงุฎุชุจุงุฑ ุงูุชููุงุฆู ููุญุต ุงูููุฏ ููุทุ ูุฌุจ ุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑุงุช ุงูุชุงููุฉ ูุฏููุงู:

### 1. ุงุฎุชุจุงุฑ ุงูุชุฏูู ุงููุงูู:
- [ ] ูุชุญ ุงูุชุทุจูู
- [ ] ุงูุถุบุท ุนูู "ุงููุนุจ ุงููุฑุฏู"
- [ ] ุงุฎุชูุงุฑ ุงููุณุชูู 1
- [ ] ุงุฎุชูุงุฑ ููุท "ุงุฎุชูุงุฑุงุช"
- [ ] ุญู ูุบุฒ ูุงุญุฏ
- [ ] ุงูุชุญูู ูู ุงูุงูุชูุงู ููุบุฒ ุงูุชุงูู

### 2. ุงุฎุชุจุงุฑ ุงูููุฒุงุช:
- [ ] ุนุฏุงุฏ ุงูููุช ูุนูู
- [ ] ุงูุฃุฑูุงุญ ุชุชูุงูุต ุนูุฏ ุงูุฎุทุฃ
- [ ] ุงูููุงุท ุชุฒูุฏ ุนูุฏ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
- [ ] ุฑุณุงุฆู ุงูุฎุทุฃ/ุงููุฌุงุญ ุชุธูุฑ

### 3. ุงุฎุชุจุงุฑ ุญุงูุงุช ุงูุฎุทุฃ:
- [ ] ุงูุฅุฌุงุจุฉ ุงูุฎุงุทุฆุฉ ุชุนูู
- [ ] ุงูุชูุงุก ุงูููุช ูุนูู
- [ ] ููุงุฏ ุงูุฃุฑูุงุญ ูุนูู

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### โ ุงูููุฏ ุฌุงูุฒ ููุงุฎุชุจุงุฑ ุงููุฏูู

**ุฌููุน ุงูุงุชุตุงูุงุช ูุงููุธุงุฆู ููุฌูุฏุฉ ููุชุตูุฉ ุจุดูู ุตุญูุญ:**
- โ ูููู ุงููุดุฑูุน ุตุญูุญ
- โ ุงูุงุชุตุงูุงุช ุจูู ุงูุดุงุดุงุช ุตุญูุญุฉ
- โ GameProvider ูุนูู ุจุดูู ุตุญูุญ
- โ API Service ูุชุตู ุจุงูู backend
- โ ูุงุฌูุงุช ุงููุนุจ ููุฌูุฏุฉ

### ๐ ุงูุฎุทูุฉ ุงูุชุงููุฉ:

**ุดุบูู ุงูุชุทุจูู ูุงุฎุชุจุฑู ูุฏููุงู:**
```powershell
flutter run -d windows
```

**ุซู ุงุชุจุน:**
1. `QUICK_TEST_CHECKLIST.md` ููุงุฎุชุจุงุฑ ุงูุณุฑูุน
2. `WINDOWS_TEST_GUIDE.md` ููุงุฎุชุจุงุฑ ุงูุชูุตููู

---

## ๐ ุงูุฎูุงุตุฉ

ุงูููุฏ ุฌุงูุฒ ููุงุฎุชุจุงุฑ. ุฌููุน ุงูููููุงุช ููุฌูุฏุฉ ููุชุตูุฉ ุจุดูู ุตุญูุญ. ูุฌุจ ุงูุขู:
1. ุชุดุบูู ุงูุชุทุจูู ุนูู Windows
2. ุงุฎุชุจุงุฑ ุงูุชุฏูู ุงููุงูู ูุฏููุงู
3. ุงูุชุญูู ูู ุฃู ูู ุดูุก ูุนูู ููุง ูู ูุชููุน

**ุงูุชุทุจูู ุฌุงูุฒ ููุงุฎุชุจุงุฑ! ๐ฎ**
